<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kompetenzradar BNE – Separat per Script-Tags</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #f3f4f6;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .grid { display: grid; grid-template-columns: 1fr; gap: 20px; }
    @media (min-width: 1500px) { .results-grid { grid-template-columns: 1fr 2fr; } }
    .results-columns {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }
    @media (max-width: 600px) {
      .results-columns { grid-template-columns: 1fr; }
    }
    .question-card { border: 1px solid #e5e7eb; padding: 15px; margin-bottom: 15px; border-radius: 6px; }
    .question-title { font-weight: bold; margin-bottom: 10px; }
    .meta-info { font-size: 0.9em; color: #666; margin-bottom: 10px; }
    .mc-group { display: flex; flex-direction: column; gap: 8px; }
    .mc-option { display: flex; align-items: center; gap: 8px; padding: 8px; border-radius: 4px; cursor: pointer; }
    .mc-option:hover { background-color: #f3f4f6; }
    .slider-container { padding: 20px 10px; position: relative; }
    .slider { width: 100%; height: 5px; background: #ddd; outline: none; -webkit-appearance: none; border-radius: 5px; }
    .slider::-webkit-slider-thumb { -webkit-appearance: none; width: 20px; height: 20px; background: #2563eb; border-radius: 50%; cursor: pointer; }
    .slider::-moz-range-thumb { width: 20px; height: 20px; background: #2563eb; border-radius: 50%; cursor: pointer; border: none; }
    .slider-labels { display: flex; justify-content: space-between; margin-top: 10px; font-size: 0.8em; color: #666; }
    .slider-value { text-align: center; margin-top: 10px; font-weight: bold; color: #2563eb; }
    .radar-container {
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      width: 100%; height: 100%;
    }
    #radarCanvas {
      width: 100%; max-width: 1000px; height: auto;
      image-rendering: -webkit-optimize-contrast; image-rendering: crisp-edges;
      -ms-interpolation-mode: nearest-neighbor; margin: 0 auto; display: block;
    }
    .legend { display: flex; justify-content: center; gap: 20px; margin-top: 16px; }
    .legend-item { display: flex; align-items: center; gap: 8px; font-size: 14px; font-weight: bold; }
    .legend-color { width: 20px; height: 10px; border-radius: 2px; }
    .page { display: none; }
    .page.active { display: block; }
    .navigation {
      display: flex; justify-content: space-between; margin-top: 20px;
      padding-top: 20px; border-top: 1px solid #e5e7eb;
    }
    .nav-button {
      padding: 10px 20px; background-color: #2563eb; color: white;
      border: none; border-radius: 4px; cursor: pointer; font-weight: bold;
    }
    .nav-button:disabled { background-color: #a0aec0; cursor: not-allowed; }
    .progress-indicator { display: flex; justify-content: center; margin-bottom: 20px; }
    .progress-dot { height: 10px; width: 10px; background-color: #cbd5e0; border-radius: 50%; margin: 0 5px; }
    .progress-dot.active { background-color: #2563eb; }
    .form-group { margin-bottom: 15px; }
    .form-group label { display: block; margin-bottom: 5px; font-weight: bold; }
    .form-group input, .form-group select, .form-group textarea {
      width: 100%; padding: 8px; border: 1px solid #e2e8f0; border-radius: 4px; box-sizing: border-box;
    }
    .intro-text { margin-bottom: 20px; }
    .summary-section { margin-bottom: 30px; padding: 15px; background-color: #f8fafc; border-radius: 6px; }
    .summary-section h3 { margin-top: 0; color: #2563eb; }
    .personal-data-section { margin-bottom: 30px; padding: 15px; background-color: #f0f9ff; border-radius: 6px; }
    .personal-data-section h3 { margin-top: 0; color: #0369a1; }
    .personal-data-item { margin-bottom: 8px; }
    .personal-data-label { font-weight: bold; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Standortbestimmung BNE</h1>
    <div class="progress-indicator" id="progressIndicator"></div>

    <!-- Seite 1: Persönliche Daten -->
    <div class="page" id="page-0">
      <div class="intro-text">
        <p>Willkommen zur Standortbestimmung im Bereich Bildung für nachhaltige Entwicklung (BNE). Bitte füllen Sie zunächst Ihre persönlichen Daten aus und beantworten Sie dann die Fragen auf den folgenden Seiten.</p>
      </div>
      <div class="form-group">
        <label for="vorname">Vorname</label>
        <input type="text" id="vorname" name="vorname">
      </div>
      <div class="form-group">
        <label for="nachname">Nachname</label>
        <input type="text" id="nachname" name="nachname">
      </div>
      <div class="form-group">
        <label for="matrikelnummer">Matrikelnummer</label>
        <input type="text" id="matrikelnummer" name="matrikelnummer">
      </div>
      <div class="form-group">
        <label for="email">E-Mail-Adresse an PH</label>
        <input type="email" id="email" name="email">
      </div>
      <div class="form-group">
        <label for="studienfach">Studienfächer</label>
        <input type="text" id="studienfach" name="studienfach">
      </div>
      <div class="form-group">
        <label for="lerngelegenheiten">Besuchte Lerngelegenheiten mit Querschnitt BNE</label>
        <textarea id="lerngelegenheiten" name="lerngelegenheiten" rows="3"></textarea>
      </div>
    </div>

    <!-- Fragen-Seiten werden dynamisch generiert -->
    <!-- Letzte Seite: Radar und Zusammenfassung -->
    <div class="page" id="page-final">
      <h2>Ihre Ergebnisse</h2>
      <p>Vielen Dank für die Beantwortung der Fragen. Hier ist die Zusammenfassung Ihrer Ergebnisse:</p>
      <div class="grid results-grid">
        <div>
          <div class="personal-data-section">
            <h3>Persönliche Daten</h3>
            <div id="personalDataSummary"></div>
          </div>
          <div class="summary-section">
            <h3>Ergebnisse nach Bereichen</h3>
            <div id="resultsSummary"></div>
          </div>
        </div>
        <div class="radar-container">
          <canvas id="radarCanvas" width="1000" height="1000"></canvas>
          <div class="legend">
            <div class="legend-item">
              <svg width="30" height="15" viewBox="0 0 30 15">
                <circle cx="15" cy="7.5" r="6" fill="rgba(37, 99, 235, 0.9)" stroke="rgba(37, 99, 235, 0.9)" stroke-width="2"/>
              </svg>
              <span>Subjektiv</span>
            </div>
            <div class="legend-item">
              <svg width="30" height="15" viewBox="0 0 30 15">
                <path d="M15,2 L22,12 L8,12 Z" fill="rgba(22, 163, 74, 0.9)" stroke="rgba(22, 163, 74, 0.9)" stroke-width="2"/>
              </svg>
              <span>Objektiv</span>
            </div>
            <div class="legend-item">
              <svg width="30" height="15" viewBox="0 0 30 15">
                <rect x="9" y="1.5" width="12" height="12" fill="rgba(220, 38, 38, 0.9)" stroke="rgba(220, 38, 38, 0.9)" stroke-width="2"/>
              </svg>
              <span>Interesse</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="navigation">
      <button id="prevButton" class="nav-button">Zurück</button>
      <button id="nextButton" class="nav-button">Weiter</button>
    </div>
  </div>

  <!-- Konfiguration: Alle Konstanten und Einstellungen -->
  <script>
    // Konfiguration
    const MIN_WERT = 1;
    const MAX_WERT = 3;
    
    const BEREICHE = [
      "LP: Wissen",
      "LP: Bewusstsein",
      "LP: Handeln",
      "U: Prinzipien",
      "U: Kompetenzen",
      "U: Themen",
      "U: Methoden",
      "S: Schulentwicklung",
    ];
    
    const FRAGEN = [
      {
        id: 11,
        text: "Wie gut kennen Sie sich mit den SDG aus?",
        bereich: "LP: Wissen",
        ebene: "subjektiv",
        typ: "slider",
        antworten: [
          { text: "Wenig oder grundlegend", wert: 1 },
          { text: "Fortgeschritten", wert: 2 },
          { text: "Hohe Expertise", wert: 3 }
        ]
      },
      {
        id: 12,
        text: "Zu welcher Umsetzungsstrategie von Nachhaltigkeit passt die folgende Definition: «Weniger produzieren und konsumieren: Energie- und Materialverbrauch begrenzen. Beispiel: Vom Besitzen zum Teilen»",
        bereich: "LP: Wissen",
        ebene: "objektiv",
        typ: "mc",
        antworten: [
          { text: "Suffizienz", wert: 3 },
          { text: "Konsistenz", wert: 1 },
          { text: "Effizienz", wert: 1 }
        ]
      },
      {
        id: 13,
        text: "Wie stark interessieren Sie sich für die SDG?",
        bereich: "LP: Wissen",
        ebene: "interesse",
        typ: "slider",
        antworten: [
          { text: "Gering", wert: 1 },
          { text: "Mittel", wert: 2 },
          { text: "Hoch", wert: 3 }
        ]
      },
      {
        id: 14,
        text: "Um mein Unterricht zielorientierter gestalten zu können, möchte ich noch mehr über die Leitidee von Nachhaltiger Entwicklung und die Ziele einer BNE erfahren.",
        bereich: "LP: Wissen",
        ebene: "interesse",
        typ: "slider",
        antworten: [
          { text: "trifft eher nicht zu", wert: 1 },
          { text: "trifft eher zu", wert: 2 },
          { text: "trifft zu", wert: 3 }
        ]
      },
      {
        id: 15,
        text: "Wie schätzen Sie Ihre Kompetenzen im Bereich der BNE im Unterricht ein?",
        bereich: "LP: Wissen",
        ebene: "subjektiv",
        typ: "slider",
        antworten: [
          { text: "wenig Kenntnisse", wert: 1 },
          { text: "mittlere Kompetenzen", wert: 2 },
          { text: "hohe Kompetenzen", wert: 3 }
        ]
      },
      // ... weitere Fragen analog definieren ...
      {
        id: 84,
        text: "Wie interessiert sind Sie an der Umsetzung von BNE im schulischen Kontext als angehende Lehrperson?",
        bereich: "S: Schulentwicklung",
        ebene: "interesse",
        typ: "slider",
        antworten: [
          { text: "wenig interessiert", wert: 1 },
          { text: "interessiert", wert: 2 },
          { text: "sehr interessiert", wert: 3 }
        ]
      }
    ];
  </script>

  <!-- Logik: Funktionen, Event-Handler, Rendering etc. -->
  <script>
    // Globaler State
    let antworten = {};
    let personalData = {};
    let currentPage = 0;
    let pages = [];

    function initPages() {
      // Persönliche Daten-Seite ist bereits vorhanden (page-0)
      const bereicheFragen = BEREICHE.reduce((acc, bereich) => {
        acc[bereich] = FRAGEN.filter(frage => frage.bereich === bereich);
        return acc;
      }, {});
      
      let pageIndex = 1;
      BEREICHE.forEach(bereich => {
        const pageId = `page-${pageIndex}`;
        pages.push(pageId);
        
        const pageDiv = document.createElement('div');
        pageDiv.className = 'page';
        pageDiv.id = pageId;
        
        const bereichTitel = document.createElement('h2');
        bereichTitel.textContent = bereich;
        pageDiv.appendChild(bereichTitel);
        
        const bereichContainer = document.createElement('div');
        bereichContainer.id = `bereich-${pageIndex}`;
        pageDiv.appendChild(bereichContainer);
        
        document.querySelector('.container').insertBefore(pageDiv, document.getElementById('page-final'));
        
        pageIndex++;
      });
      
      pages.push('page-final');
      updateProgressIndicator();
    }

    function updateProgressIndicator() {
      const progressContainer = document.getElementById('progressIndicator');
      progressContainer.innerHTML = '';
      
      const totalPages = pages.length + 1;
      
      for (let i = 0; i < totalPages; i++) {
        const dot = document.createElement('div');
        dot.className = 'progress-dot';
        if (i === currentPage) {
          dot.classList.add('active');
        }
        progressContainer.appendChild(dot);
      }
    }

    function renderFragen() {
      if (currentPage === 0 || currentPage === pages.length) return;
      
      const bereichIndex = currentPage - 1;
      const bereich = BEREICHE[bereichIndex];
      const bereichContainer = document.getElementById(`bereich-${currentPage}`);
      const bereichFragen = FRAGEN.filter(frage => frage.bereich === bereich);
      
      bereichContainer.innerHTML = bereichFragen.map(frage => {
        if (frage.typ === 'slider') {
          return `
            <div class="question-card">
              <div class="question-title">${frage.text}</div>
              <div class="meta-info">Ebene: ${frage.ebene}</div>
              <div class="slider-container">
                <input 
                  type="range" 
                  min="${MIN_WERT}" 
                  max="${MAX_WERT}" 
                  step="1"
                  value="${antworten[frage.id] || MIN_WERT}"
                  onchange="handleAntwort(${frage.id}, parseInt(this.value))"
                  oninput="this.nextElementSibling.nextElementSibling.textContent = this.value"
                  class="slider"
                >
                <div class="slider-labels">
                  ${frage.antworten.map(antwort => `<span>${antwort.text}</span>`).join('')}
                </div>
                <div class="slider-value">${antworten[frage.id] || MIN_WERT}</div>
              </div>
            </div>
          `;
        } else {
          return `
            <div class="question-card">
              <div class="question-title">${frage.text}</div>
              <div class="meta-info">Ebene: ${frage.ebene}</div>
              <div class="mc-group">
                ${frage.antworten.map(antwort => `
                  <label class="mc-option">
                    <input 
                      type="radio" 
                      name="frage-${frage.id}" 
                      value="${antwort.wert}"
                      ${antworten[frage.id] === antwort.wert ? 'checked' : ''}
                      onchange="handleAntwort(${frage.id}, ${antwort.wert})"
                    >
                    ${antwort.text}
                  </label>
                `).join('')}
              </div>
            </div>
          `;
        }
      }).join('');
    }

    function collectPersonalData() {
      personalData = {
        vorname: document.getElementById('vorname').value,
        nachname: document.getElementById('nachname').value,
        matrikelnummer: document.getElementById('matrikelnummer').value,
        email: document.getElementById('email').value,
        studienfach: document.getElementById('studienfach').value,
        lerngelegenheiten: document.getElementById('lerngelegenheiten').value
      };
    }

    function renderPersonalData() {
      const container = document.getElementById('personalDataSummary');
      const hasData = Object.values(personalData).some(value => value.trim() !== '');
      
      if (!hasData) {
        container.innerHTML = '<p>Keine persönlichen Daten angegeben.</p>';
        return;
      }
      
      const labels = {
        vorname: 'Vorname',
        nachname: 'Nachname',
        matrikelnummer: 'Matrikelnummer',
        email: 'E-Mail',
        studienfach: 'Studienfächer',
        lerngelegenheiten: 'Besuchte Lerngelegenheiten'
      };
      
      let html = '';
      for (const [key, value] of Object.entries(personalData)) {
        if (value.trim() !== '') {
          html += `<div class="personal-data-item"><span class="personal-data-label">${labels[key]}:</span> ${value}</div>`;
        }
      }
      
      container.innerHTML = html;
    }

    function renderResultsSummary() {
      const resultContainer = document.getElementById('resultsSummary');
      const bereichErgebnisse = BEREICHE.map(bereich => {
        const bereichFragen = FRAGEN.filter(frage => frage.bereich === bereich);
        const ebenen = ['subjektiv', 'objektiv', 'interesse'];
        
        const ebenenWerte = ebenen.map(ebene => {
          const fragenEbene = bereichFragen.filter(frage => frage.ebene === ebene);
          const beantwortet = fragenEbene.filter(frage => antworten[frage.id] !== undefined);
          if (beantwortet.length === 0) return 0;
          const summe = beantwortet.reduce((s, frage) => s + antworten[frage.id], 0);
          return (summe / beantwortet.length).toFixed(1);
        });
        
        return `
          <div style="margin-bottom: 10px;">
            <strong>${bereich}</strong>
            <ul style="margin-top: 5px;">
              <li>Subjektiv: ${ebenenWerte[0]}</li>
              <li>Objektiv: ${ebenenWerte[1]}</li>
              <li>Interesse: ${ebenenWerte[2]}</li>
            </ul>
          </div>
        `;
      });
      
      const mitte = Math.ceil(bereichErgebnisse.length / 2);
      const ergebnisseLinks = bereichErgebnisse.slice(0, mitte).join('');
      const ergebnisseRechts = bereichErgebnisse.slice(mitte).join('');
      
      const html = `
        <div class="results-columns">
          <div class="results-column">${ergebnisseLinks}</div>
          <div class="results-column">${ergebnisseRechts}</div>
        </div>
      `;
      
      resultContainer.innerHTML = bereichErgebnisse.length > 0 ? html : '<p>Keine Daten vorhanden.</p>';
    }

    function setupCanvas(canvas) {
      canvas.width = 1600;
      canvas.height = 1600;
      canvas.style.width = '100%';
      canvas.style.height = 'auto';
      canvas.style.maxWidth = '1000px';
      const ctx = canvas.getContext('2d');
      ctx.imageSmoothingEnabled = true;
      ctx.imageSmoothingQuality = 'high';
      return ctx;
    }

    function drawRadar() {
      const canvas = document.getElementById('radarCanvas');
      const ctx = setupCanvas(canvas);
      const width = canvas.width;
      const height = canvas.height;
      const centerX = width / 2;
      const centerY = height / 2;
      const radius = Math.min(width, height) * 0.35;
      
      ctx.clearRect(0, 0, width, height);
      
      const anzahlBereiche = BEREICHE.length;
      const winkel = (2 * Math.PI) / anzahlBereiche;
      
      function drawMarker(x, y, type, color) {
        ctx.fillStyle = color;
        ctx.strokeStyle = color;
        ctx.lineWidth = 2;
        switch(type) {
          case 'circle':
            ctx.beginPath();
            ctx.arc(x, y, 8, 0, 2 * Math.PI);
            ctx.fill();
            ctx.stroke();
            break;
          case 'triangle':
            ctx.beginPath();
            ctx.moveTo(x, y - 8);
            ctx.lineTo(x + 8, y + 8);
            ctx.lineTo(x - 8, y + 8);
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            break;
          case 'square':
            ctx.beginPath();
            ctx.rect(x - 6, y - 6, 12, 12);
            ctx.fill();
            ctx.stroke();
            break;
        }
      }
      
      for (let r = 1; r <= 3; r++) {
        ctx.beginPath();
        ctx.strokeStyle = '#d1d5db';
        ctx.lineWidth = 1;
        const currentRadius = radius * (r / 3);
        ctx.arc(centerX, centerY, currentRadius, 0, 2 * Math.PI);
        ctx.stroke();
        if (r > 4) {
          ctx.fillStyle = '#9ca3af';
          ctx.font = '16px Arial';
          ctx.textAlign = 'center';
          ctx.fillText(r.toString(), centerX + 5, centerY - currentRadius + 16);
        }
      }
      
      ctx.beginPath();
      ctx.strokeStyle = '#d1d5db';
      ctx.lineWidth = 1;
      for (let i = 0; i < anzahlBereiche; i++) {
        const angle = i * winkel - Math.PI / 2;
        const x = centerX + radius * Math.cos(angle);
        const y = centerY + radius * Math.sin(angle);
        ctx.moveTo(centerX, centerY);
        ctx.lineTo(x, y);
      }
      ctx.stroke();
      
      ctx.font = 'bold 30px Arial';
      ctx.fillStyle = '#000';
      
      BEREICHE.forEach((bereich, i) => {
        const angle = i * winkel - Math.PI / 2;
        const labelRadius = radius + 30;
        let x = centerX + labelRadius * Math.cos(angle);
        let y = centerY + labelRadius * Math.sin(angle);
        if (Math.cos(angle) < -0.1) {
          ctx.textAlign = 'right';
        } else if (Math.cos(angle) > 0.1) {
          ctx.textAlign = 'left';
        } else {
          ctx.textAlign = 'center';
        }
        if (Math.sin(angle) > 0.9) { y += 10; }
        else if (Math.sin(angle) < -0.9) { y -= 5; }
        ctx.fillText(bereich, x, y);
      });
      
      ctx.textAlign = 'left';
      
      const aggregierteWerte = BEREICHE.reduce((acc, bereich) => {
        acc[bereich] = { subjektiv: [], objektiv: [], interesse: [] };
        return acc;
      }, {});
      
      Object.entries(antworten).forEach(([fragenId, wert]) => {
        const frage = FRAGEN.find(f => f.id === parseInt(fragenId));
        if (frage) {
          aggregierteWerte[frage.bereich][frage.ebene].push(wert);
        }
      });
      
      const chartData = BEREICHE.map(bereich => ({
        bereich,
        subjektiv: Math.max(1, durchschnitt(aggregierteWerte[bereich].subjektiv)),
        objektiv: Math.max(1, durchschnitt(aggregierteWerte[bereich].objektiv)),
        interesse: Math.max(1, durchschnitt(aggregierteWerte[bereich].interesse))
      }));
      
      const ebenen = [
        { name: 'subjektiv', farbe: ['rgba(37, 99, 235, 0.2)', 'rgba(37, 99, 235, 0.9)'], marker: 'circle' },
        { name: 'objektiv', farbe: ['rgba(22, 163, 74, 0.2)', 'rgba(22, 163, 74, 0.9)'], marker: 'triangle' },
        { name: 'interesse', farbe: ['rgba(220, 38, 38, 0.2)', 'rgba(220, 38, 38, 0.9)'], marker: 'square' }
      ];
      
      ebenen.forEach((ebene) => {
        const punkte = chartData.map((data, i) => {
          const normalisierterWert = (data[ebene.name] - 1) / 2;
          const angle = i * winkel - Math.PI / 2;
          return {
            x: centerX + (radius * normalisierterWert) * Math.cos(angle),
            y: centerY + (radius * normalisierterWert) * Math.sin(angle)
          };
        });
        
        ctx.beginPath();
        ctx.fillStyle = ebene.farbe[0];
        ctx.strokeStyle = ebene.farbe[1];
        ctx.lineWidth = 2;
        
        punkte.forEach((punkt, i) => {
          if (i === 0) {
            ctx.moveTo(punkt.x, punkt.y);
          } else {
            ctx.lineTo(punkt.x, punkt.y);
          }
        });
        ctx.lineTo(punkte[0].x, punkte[0].y);
        ctx.closePath();
        ctx.fill();
        ctx.stroke();
        
        punkte.forEach(punkt => {
          drawMarker(punkt.x, punkt.y, ebene.marker, ebene.farbe[1]);
        });
      });
    }

    function durchschnitt(werte) {
      if (werte.length === 0) return MIN_WERT;
      return werte.reduce((a, b) => a + b, 0) / werte.length;
    }

    function goToPage(pageIndex) {
      const activePage = document.querySelector('.page.active');
      if (activePage) { activePage.classList.remove('active'); }
      
      if (currentPage === 0 && pageIndex > 0) { collectPersonalData(); }
      
      currentPage = pageIndex;
      
      if (currentPage === 0) {
        document.getElementById('page-0').classList.add('active');
      } else if (currentPage === pages.length) {
        renderPersonalData();
        renderResultsSummary();
        document.getElementById('page-final').classList.add('active');
        setTimeout(() => {
          try { drawRadar(); } catch (e) { console.error("Fehler beim Zeichnen:", e); }
        }, 100);
      } else {
        renderFragen();
        document.getElementById(pages[currentPage - 1]).classList.add('active');
      }
      
      document.getElementById('prevButton').disabled = currentPage === 0;
      document.getElementById('nextButton').textContent = currentPage === pages.length ? 'Abschliessen' : 'Weiter';
      updateProgressIndicator();
    }

    document.getElementById('prevButton').addEventListener('click', () => {
      if (currentPage > 0) { goToPage(currentPage - 1); }
    });

    document.getElementById('nextButton').addEventListener('click', () => {
      if (currentPage < pages.length) {
        goToPage(currentPage + 1);
      } else {
        window.print();
        window.open('mailto:BNE@example.com?subject=subject&body=Bitte das als PDF gespeicherte Ergebnis anhängen und einschicken');
        alert('Standortbestimmung abgeschlossen!');
      }
    });

    window.addEventListener('resize', () => {
      if (currentPage === pages.length) { drawRadar(); }
    });

    function init() {
      initPages();
      goToPage(0);
    }

    window.handleAntwort = handleAntwort;

    init();
  </script>
</body>
</html>
